<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greetings and Wishes Vocabulary Flashcards - Honeycomb Layout</title>
    <script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
            return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
            if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
                try {
                    var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                    var firstSheetName = workbook.SheetNames[0];
                    var worksheet = workbook.Sheets[firstSheetName];
                    var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                    var filteredData = jsonData.filter(row => row.some(filledCell));
                    var headerRowIndex = filteredData.findIndex((row, index) =>
                        row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                    );
                    if (headerRowIndex === -1 || headerRowIndex > 25) {
                        headerRowIndex = 0;
                    }
                    var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex));
                    csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                    return csv;
                } catch (e) {
                    console.error(e);
                    return "";
                }
            }
            return gk_fileData[filename] || "";
        }
    </script>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #FFF9E6, #FFE4B5, #FFFFFF);
            font-family: 'Poppins', sans-serif;
            margin: 0;
            overflow: auto;
            color: #000000;
            position: relative;
        }
        .title-container {
            width: 100%;
            overflow: hidden;
            text-align: center;
            position: absolute;
            top: 20px;
            z-index: 1001;
        }
        h1 {
            display: inline-block;
            font-family: 'Montserrat', sans-serif;
            color: #000000;
            font-size: 2.5em;
            white-space: nowrap;
            animation: scroll 10s linear infinite, glowTitle 1.5s ease-in-out infinite alternate;
            text-shadow: 0 0 5px #FFD700, 0 0 10px #FF8C00;
        }
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        @keyframes glowTitle {
            0% { text-shadow: 0 0 5px #FFD700, 0 0 10px #FF8C00; }
            100% { text-shadow: 0 0 10px #FFD700, 0 0 20px #FF8C00; }
        }
        .game-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            background-color: transparent;
            padding: 20px;
            max-width: 1200px;
            width: 90%;
            position: relative;
            margin-top: 80px;
        }
        .card {
            position: relative;
            width: 150px;
            height: 173px;
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border: 2px solid #FFD700;
            background: linear-gradient(45deg, #FFD700, #FF8C00, #FFD700);
            overflow: hidden;
            perspective: 1000px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
        }
        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(45deg, #FFF9E6, #FFE4B5, #FFF9E6);
            color: #000000;
        }
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        .phonetic {
            font-size: 0.8em;
            font-style: italic;
            margin-top: 5px;
        }
        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 8px 25px rgba(0, 0, 0, 0.15);
            animation: shake 0.5s;
        }
        @keyframes shake {
            0% { transform: translate(0, 0) rotate(0deg); }
            10% { transform: translate(-2px, 0) rotate(-1deg); }
            20% { transform: translate(2px, 0) rotate(1deg); }
            30% { transform: translate(-2px, 0) rotate(-1deg); }
            40% { transform: translate(2px, 0) rotate(1deg); }
            50% { transform: translate(-2px, 0) rotate(-1deg); }
            60% { transform: translate(2px, 0) rotate(1deg); }
            70% { transform: translate(-2px, 0) rotate(-1deg); }
            80% { transform: translate(2px, 0) rotate(1deg); }
            90% { transform: translate(-2px, 0) rotate(-1deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        .card::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 0, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
            pointer-events: none;
        }
        .card:hover::before {
            width: 300px;
            height: 300px;
            transition: width 0.6s ease, height 0.6s ease;
        }
        .card.flipped:hover {
            background: linear-gradient(45deg, #FFD700, #FF8C00);
            color: #FFFFFF;
        }
        .card {
            margin: 0;
        }
        .card:nth-child(odd) {
            margin-right: -37.5px;
        }
        .card:nth-child(even) {
            margin-top: 129.75px;
            margin-left: -37.5px;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #FFF9E6, #FFE4B5, #FFFFFF);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.2);
            z-index: 1002;
            text-align: center;
            max-width: 600px;
            width: 90%;
            border: 2px solid #FFD700;
        }
        .popup h3 {
            margin: 0 0 15px;
            font-size: 2.5em;
            font-family: 'Montserrat', sans-serif;
            color: #000000;
        }
        .popup p {
            margin: 10px 0;
            font-size: 1.4em;
            color: #000000;
        }
        .popup .close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8em;
            cursor: pointer;
            color: #FF4500;
            transition: color 0.2s;
        }
        .popup .close:hover {
            color: #D32F2F;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }
        .cute-animal {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 80px;
            height: 80px;
            background-image: url('https://via.placeholder.com/80?text=Greetings+Vocabulary');
            background-size: cover;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
        .restart-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            background-color: #FFF9E6;
            border: 2px solid #FFD700;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            z-index: 1000;
        }
        .restart-btn:hover {
            background-color: #FF8C00;
            color: #FFFFFF;
            border-color: #FF4500;
        }
        .firefly {
            position: absolute;
            width: 5px;
            height: 5px;
            background: #FFD700;
            border-radius: 50%;
            box-shadow: 0 0 8px 3px #FFD700;
            animation: move 20s linear infinite, glow 2s ease-in-out infinite alternate;
            z-index: 999;
        }
        @keyframes glow {
            0% { opacity: 0.2; box-shadow: 0 0 5px 1px #FFD700; }
            100% { opacity: 1; box-shadow: 0 0 15px 5px #FFD700; }
        }
        @keyframes move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(var(--x), var(--y)); }
        }
        @media (max-width: 768px) {
            .title-container h1 {
                font-size: 1.8em;
            }
            .game-container {
                margin-top: 60px;
            }
            .card {
                width: 120px;
                height: 139px;
                font-size: 1em;
            }
            .card:nth-child(odd) {
                margin-right: -30px;
            }
            .card:nth-child(even) {
                margin-top: 104.25px;
                margin-left: -30px;
            }
            .phonetic {
                font-size: 0.7em;
            }
            .popup {
                padding: 30px;
                width: 95%;
            }
            .popup h3 {
                font-size: 2em;
            }
            .popup p {
                font-size: 1.2em;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Montserrat:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="title-container">
        <h1>GREETINGS AND WISHES</h1>
    </div>
    <div class="game-container" id="gameBoard">
        <div class="cute-animal"></div>
    </div>
    <button class="restart-btn" onclick="restartGame()">Restart Game</button>
    <div class="overlay" id="overlay"></div>
    <div class="popup" id="popup">
        <span class="close" id="closePopup">×</span>
        <h3 id="popupWord"></h3>
        <p id="popupPhonetic"></p>
        <p id="popupMeaning"></p>
        <p id="popupPartOfSpeech"></p>
    </div>

    <script>
        const words = [
            { english: "hello", phonetic: "/həˈloʊ/", vietnamese: "xin chào", partOfSpeech: "Interjection", voice: "male" },
            { english: "goodbye", phonetic: "/ˌɡʊdˈbaɪ/", vietnamese: "tạm biệt", partOfSpeech: "Interjection", voice: "female" },
            { english: "friend", phonetic: "/frɛnd/", vietnamese: "bạn bè", partOfSpeech: "Noun", voice: "male" },
            { english: "happy", phonetic: "/ˈhæpi/", vietnamese: "vui vẻ, hạnh phúc", partOfSpeech: "Adjective", voice: "female" },
            { english: "wish", phonetic: "/wɪʃ/", vietnamese: "điều ước, chúc", partOfSpeech: "Verb/Noun", voice: "male" },
            { english: "nice", phonetic: "/naɪs/", vietnamese: "tốt, đẹp", partOfSpeech: "Adjective", voice: "female" },
            { english: "meet", phonetic: "/miːt/", vietnamese: "gặp", partOfSpeech: "Verb", voice: "male" },
            { english: "day", phonetic: "/deɪ/", vietnamese: "ngày", partOfSpeech: "Noun", voice: "female" },
            { english: "good", phonetic: "/ɡʊd/", vietnamese: "tốt", partOfSpeech: "Adjective", voice: "male" },
            { english: "smile", phonetic: "/smaɪl/", vietnamese: "nụ cười, cười", partOfSpeech: "Noun/Verb", voice: "female" },
            { english: "polite", phonetic: "/pəˈlaɪt/", vietnamese: "lịch sự", partOfSpeech: "Adjective", voice: "male" },
            { english: "yo", phonetic: "/joʊ/", vietnamese: "chào (thân mật)", partOfSpeech: "Interjection (Slang)", voice: "female" },
            { english: "break the ice", phonetic: "/breɪk ðə aɪs/", vietnamese: "phá vỡ sự ngại ngùng", partOfSpeech: "Idiom", voice: "male" },
            { english: "hit it off", phonetic: "/hɪt ɪt ɔf/", vietnamese: "hợp nhau ngay", partOfSpeech: "Idiom", voice: "female" }
        ];

        const gameBoard = document.getElementById('gameBoard');
        const overlay = document.getElementById('overlay');
        const popup = document.getElementById('popup');
        const closePopup = document.getElementById('closePopup');
        const popupWord = document.getElementById('popupWord');
        const popupPhonetic = document.getElementById('popupPhonetic');
        const popupMeaning = document.getElementById('popupMeaning');
        const popupPartOfSpeech = document.getElementById('popupPartOfSpeech');
        let lastClickedCard = null;

        function createBoard() {
            gameBoard.innerHTML = '<div class="cute-animal"></div>';
            words.forEach(word => {
                const card = document.createElement('div');
                card.classList.add('card');
                const cardInner = document.createElement('div');
                cardInner.classList.add('card-inner');
                const cardFront = document.createElement('div');
                cardFront.classList.add('card-front');
                cardFront.innerHTML = `
                    ${word.english}
                    <div class="phonetic">${word.phonetic}</div>
                `;
                const cardBack = document.createElement('div');
                cardBack.classList.add('card-back');
                cardBack.innerHTML = `
                    ${word.vietnamese}
                    <div class="phonetic">(${word.partOfSpeech})</div>
                `;
                cardInner.appendChild(cardFront);
                cardInner.appendChild(cardBack);
                card.appendChild(cardInner);
                card.addEventListener('click', () => {
                    card.classList.toggle('flipped');
                    playAudio(word.english, word.voice);
                    showPopup(word);
                    lastClickedCard = card;
                });
                gameBoard.appendChild(card);
            });
        }

        function showPopup(word) {
            popupWord.textContent = word.english;
            popupPhonetic.textContent = `IPA: ${word.phonetic}`;
            popupMeaning.textContent = `Nghĩa: ${word.vietnamese}`;
            popupPartOfSpeech.textContent = `Loại từ: ${word.partOfSpeech}`;
            overlay.style.display = 'block';
            popup.style.display = 'block';
        }

        function closePopupHandler() {
            overlay.style.display = 'none';
            popup.style.display = 'none';
            if (lastClickedCard) {
                lastClickedCard.classList.remove('flipped');
                lastClickedCard = null;
            }
        }

        function playAudio(text, voice) {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            const voices = window.speechSynthesis.getVoices();
            if (voice === 'male') {
                utterance.voice = voices.find(v => v.name.includes('Microsoft Mark') || v.name.includes('Male') || v.name.includes('Guy')) || voices[0];
                utterance.pitch = 1.4;
                utterance.rate = 1.2;
            } else {
                utterance.voice = voices.find(v => v.name.includes('Microsoft Zira') || v.name.includes('Female') || v.name.includes('Samantha')) || voices[1];
                utterance.pitch = 1.0;
                utterance.rate = 1.0;
            }
            utterance.volume = 1.0;
            window.speechSynthesis.speak(utterance);
        }

        function restartGame() {
            createBoard();
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => card.classList.remove('flipped'));
            lastClickedCard = null;
        }

        const fireflyCount = 50;
        for (let i = 0; i < fireflyCount; i++) {
            const firefly = document.createElement("div");
            firefly.classList.add("firefly");
            firefly.style.top = Math.random() * window.innerHeight + "px";
            firefly.style.left = Math.random() * window.innerWidth + "px";
            const xMove = (Math.random() - 0.5) * 500 + "px";
            const yMove = (Math.random() - 0.5) * 500 + "px";
            firefly.style.setProperty('--x', xMove);
            firefly.style.setProperty('--y', yMove);
            document.body.appendChild(firefly);
        }

        window.speechSynthesis.onvoiceschanged = () => {
            createBoard();
        };

        closePopup.addEventListener('click', closePopupHandler);
        overlay.addEventListener('click', closePopupHandler);

        if (window.speechSynthesis.getVoices().length > 0) {
            createBoard();
        }
    </script>
</body>
</html>